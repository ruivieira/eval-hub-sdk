# LightEval Framework Adapter Configuration

# Adapter configuration
adapter:
  framework_id: "lighteval"
  adapter_name: "LightEval Framework Adapter"
  version: "1.0.0"
  host: "0.0.0.0"
  port: 8000
  workers: 1
  max_concurrent_jobs: 5
  job_timeout_seconds: 7200
  log_level: "INFO"

# LightEval-specific configuration
lighteval:
  cache_dir: "/tmp/lighteval_cache"
  output_dir: "/tmp/lighteval_output"
  max_samples: 1000
  batch_size: 1

  # Model configuration defaults
  default_model_args:
    use_chat_template: false
    system_prompt: null

  # Supported model types
  supported_model_types:
    - "transformers"
    - "vllm"
    - "openai"
    - "anthropic"
    - "endpoint"

  # Task configuration
  task_config:
    # Default tasks to preload (subset for faster startup)
    default_tasks:
      - "hellaswag"
      - "arc:easy"
      - "arc:challenge"
      - "piqa"
      - "winogrande"

    # Task categories for organization
    categories:
      reasoning:
        - "hellaswag"
        - "arc:easy"
        - "arc:challenge"
        - "piqa"
        - "winogrande"
      math:
        - "gsm8k"
        - "math_qa"
      science:
        - "arc:challenge"
        - "sciq"
      safety:
        - "truthfulqa:mc"

# Server configuration
server:
  title: "LightEval Framework Adapter"
  description: "EvalHub adapter for the LightEval evaluation framework"
  version: "1.0.0"

  # API configuration
  api:
    prefix: "/api/v1"
    docs_url: "/docs"
    redoc_url: "/redoc"
    openapi_url: "/openapi.json"

  # CORS configuration
  cors:
    allow_origins: ["*"]
    allow_credentials: true
    allow_methods: ["*"]
    allow_headers: ["*"]

# Logging configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  handlers:
    - type: "console"
    - type: "file"
      filename: "/tmp/lighteval_adapter.log"
      max_bytes: 10485760  # 10MB
      backup_count: 5

# Resource limits
resources:
  memory_limit_gb: 8
  cpu_limit: 4
  gpu_memory_fraction: 0.8

# Monitoring configuration
monitoring:
  enable_metrics: true
  metrics_port: 9090
  health_check_interval: 30
